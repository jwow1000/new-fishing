function u(o,t,e=500,l){t>0&&(o.muted=!1);const c=o.volume,a=t-c,n=50,s=e/n;let r=0;const i=setInterval(()=>{r++;const d=r/s;o.volume=Math.pow(c+a*d,2),r>=s&&(clearInterval(i),t===0&&(o.muted=!0))},n)}function v(o){o.readyState>=3?o.play().catch(t=>{console.error("Error playing video:",t)}):o.addEventListener("canplay",()=>{o.play().catch(t=>{console.error("Error playing video:",t)})},{once:!0})}window.Webflow.push(()=>{document.querySelectorAll(".video-loop-container").forEach(t=>{const e=t.querySelector(".video-loop"),l=t.querySelector(".vol-img"),c=t.querySelector(".vol-img.on");new IntersectionObserver(n=>{n.forEach(s=>{function r(i){e.muted?(u(e,1,500),c.style.opacity=1,l.style.opacity=0):(u(e,0,500),c.style.opacity=0,l.style.opacity=1)}s.isIntersecting?(e.muted=!0,e.volume=0,v(e),e.hasAttribute("data-click-added")||(e.addEventListener("click",r),e.setAttribute("data-click-added",!0))):(e.pause(),e.muted=!0,e.hasAttribute("data-click-added")&&(e.removeEventListener("click",r),e.removeAttribute("data-click-added")))})},{threshold:0}).observe(e)})});
