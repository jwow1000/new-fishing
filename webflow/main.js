function p(t,o,c=500,e){o>0&&(t.muted=!1,t.volume=0);const r=t.volume,n=o-r,a=50,s=c/a;let l=0;const i=setInterval(()=>{l++;const u=l/s;t.volume=Math.pow(r+n*u,2),l>=s&&(clearInterval(i),o===0&&(t.muted=!0))},a)}function d(t){t.readyState>=3?t.play().catch(o=>{console.error("Error playing video:",o)}):t.addEventListener("canplay",()=>{t.play().catch(o=>{console.error("Error playing video:",o)})},{once:!0})}window.Webflow.push(()=>{const t=document.querySelectorAll(".video-loop-container"),o=500;t.forEach(c=>{const e=c.querySelector(".video-loop"),r=c.querySelector(".vol-img"),n=c.querySelector(".vol-img.on");new IntersectionObserver(s=>{s.forEach(l=>{let i=!1;function u(y){e.muted?(p(e,1,o),n.style.opacity=1,r.style.opacity=0):(p(e,0,o),n.style.opacity=0,r.style.opacity=1)}l.isIntersecting?(e.muted=!0,e.volume=0,d(e),e.hasAttribute("data-click-added")||(e.addEventListener("click",u),e.setAttribute("data-click-added",!0))):(p(e,0,o),n.style.opacity=0,r.style.opacity=1,setTimeout(()=>{e.pause(),console.log("video paused",i)},o),e.muted=!0)})},{root:document.querySelector(".swiper-container"),rootMargin:"0px",threshold:1}).observe(e)})});
